<!DOCTYPE html>
<html>
<head>
<style>
button, textarea, video {
  display: block;
  width: 150px;
  box-sizing: border-box;
  text-align: left;
  border: 1px solid gray;
}
</style>
<script>
const pc = new RTCPeerConnection({
  iceServers: [{
    urls: [
      'turn:turn-testdrive.cloudapp.net:3478?transport=udp',
      'stun:stun.l.google.com:19302'
    ],
    username: 'redmond',
    credential: 'redmond123',
  }]
});

function onCapture() {
  document.querySelector('.capture-btn').setAttribute('disabled', true);
  navigator.mediaDevices.getUserMedia({video: true})
    .then(stream => {
      const element = document.querySelector(".local-video");
      element.src = window.URL.createObjectURL(stream);
      element.play();
    });
}
</script>
</head>
<body>
<button onclick="onCapture()" class="capture-btn">capture video</button>
<video class="local-video"></video>
</body>
</html>

